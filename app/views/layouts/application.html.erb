<!DOCTYPE html>
<html class="h-full">
<head>
  <%= render partial: 'layouts/head' %>
</head>
<body class="h-[calc(100vh-11.5rem)] bg-white" data-controller="app" data-action="turbo:morph->app#morph turbo:frame-render->app#frameRender">
<%= render NavbarComponent.new %>
<%= render 'partials/alerts' %>
<main class="min-h-full mt-16 flex flex-col <%= user_signed_in? ? 'flex flex-col gap-4 bg-white max-w-screen-xl mx-auto px-10 py-10 xl:px-0' : 'justify-center bg-primary-100' %>">
  <% if user_signed_in? && !current_user.subscribed? %>
    <%= render StickyBannerComponent.new 'subscribe-banner' do %>
      <div class="flex items-center gap-3 mx-auto">
        <p class="flex items-center text-sm font-normal text-gray-500 dark:text-gray-400">
          Subscribe to unlock premium features!
        </p>
        <%= button_to subscriptions_path, method: :post, class: 'inline-flex items-center justify-center px-3 py-2 me-2 text-xs font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800', params: { price_id: Rails.application.credentials.subscriptions[:default_price_id] }, form: { data: { turbo: false, action: 'submit->app#showLoadingOverlay' } } do %>
          Click here to get started
          <svg class="w-3 h-3 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
          </svg>
        <% end %>
      </div>
    <% end %>
  <% end %>
  <% if breadcrumbs.present? %>
    <%= render BreadcrumbsComponent.new %>
  <% end %>
  <%= yield %>
  <%= turbo_frame_tag :modal %>
</main>
<%= render SiteFooterComponent.new %>
<%= render LoadingOverlayComponent.new %>
</body>
</html>
